{
  "name": "wp-stream",
  "private": true,
  "description": "Stream tracks logged-in user activity so you can monitor every change made on your WordPress site in beautifully organized detail. All activity is organized by context, action and IP address for easy filtering. Developers can extend Stream with custom connectors to log any kind of action.",
  "main": "stream.php",
  "author": "XWP",
  "license": "GPLv2+",
  "engines": {
    "node": "^20.16.0"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/xwp/stream.git"
  },
  "bugs": {
    "url": "https://github.com/xwp/stream/issues"
  },
  "homepage": "https://github.com/xwp/stream#readme",
  "keywords": [
    "wp",
    "stream",
    "stream",
    "activity",
    "logs",
    "track"
  ],
  "devDependencies": {
    "@playwright/test": "^1.46.0",
    "@types/node": "^22.1.0",
    "@wordpress/e2e-test-utils-playwright": "^1.4.0",
    "@wordpress/eslint-plugin": "^20.1.0",
    "eslint": "^8.57.0",
    "grunt": "^1.6.1",
    "grunt-contrib-clean": "^2.0.1",
    "grunt-contrib-cssmin": "^5.0.0",
    "grunt-contrib-uglify": "^5.2.2",
    "npm-run-all2": "^6.2.2",
    "uuid": "^10.0.0"
  },
  "scripts": {
    "build": "grunt",
    "lint": "npm-run-all lint:*",
    "lint:js": "eslint .",
    "lint:js-playwright": "DEBUG=eslint:cli-engine eslint tests/e2e/** --config .eslintrc.playwright.json --no-ignore",
    "lint:php": "composer lint",
    "lint:php-tests": "composer lint-tests",
    "format": "composer format",
    "test": "npm-run-all test:*",
    "test:php": "npm run cli -- composer test --working-dir=wp-content/plugins/stream-src",
    "test:php-multisite": "npm run cli -- composer test-multisite --working-dir=wp-content/plugins/stream-src",
    "test-e2e": "npx playwright test",
    "test-xdebug": "npm run cli -- composer test-xdebug --working-dir=wp-content/plugins/stream-src",
    "test-one": "npm run cli -- composer test-one --working-dir=wp-content/plugins/stream-src --",
    "test-report": "npm run cli -- composer test-report --working-dir=wp-content/plugins/stream-src",
    "build-containers": "docker compose --file docker-compose.build.yml build",
    "push-containers": "docker compose --file docker-compose.build.yml push",
    "start": "docker compose up --remove-orphans --detach",
    "switch-to:php8.2": "docker compose build --build-arg PHP_VERSION=8.2 --build-arg XDEBUG_VERSION=3.3.2 && npm run start",
    "switch-to:php7.4": "docker compose build && npm run start",
    "which-php": "npm run cli -- php --version",
    "document:connectors": "php ./local/scripts/generate-connector-docs.php",
    "stop": "docker compose down",
    "stop-all": "docker stop $(docker ps -a -q)",
    "logs": "docker compose logs --follow",
    "cli": "docker compose run --rm --user $(id -u) wordpress --",
    "large-log-tables:remove": "npm run cli -- /bin/sh -c  'mysql mysql -hmysql -uroot -ppassword < /var/local/scripts/large-datasets/remove-test-logs.sql'",
    "large-log-tables:generate": "npm run cli -- /bin/sh -c  'mysql mysql -hmysql -uroot -ppassword < /var/local/scripts/large-datasets/bulk-insert-logs.sql'",
    "large-log-tables:show": "npm run cli -- /bin/sh -c  'mysql mysql -hmysql -uroot -ppassword < /var/local/scripts/large-datasets/show-stream-db-stats.sql'",
    "install-wordpress": "npm run cli wp core multisite-install"
  }
}
